const API_URL="https://api.shrtco.de/v2/shorten?url=",urlInput=document.querySelector(".form-input"),submitBtn=document.querySelector(".form-btn"),main=document.querySelector(".link-card"),invalidFeedback=document.querySelector(".invalid-feedback");submitBtn.addEventListener("click",e=>{e.preventDefault(),formValidation(),getUrl()});const getUrl=async()=>{if(""===urlInput.value)invalidFeedback.innerText="Please add a link";else try{const e=await fetch(API_URL+urlInput.value),t=await e.json();showUrl(t.result)}catch(e){urlInput.classList.add("is-invalid"),invalidFeedback.innerText="Please add a valid link"}},showUrl=e=>{const t=document.createElement("div"),n=["card","p-4","border-0","mb-3","shadow","flex-md-row","align-items-md-center"];n.forEach(e=>t.classList.add(e)),t.innerHTML=`<span class="mr-md-auto url pr-0 pr-md-5">${urlInput.value}</span>\n                <hr class="d-block d-md-none">\n                <span class="pb-3 pb-md-0 mr-md-3 short-url">${e.short_link}</span>\n                <button class="btn text-white py-2 py-md-1 px-md-4 shadow-none copy-btn">Copy</button>`,main.appendChild(t),copyUrl(t),urlInput.value=""},copyUrl=e=>{const t=e.querySelector(".short-url"),n=e.querySelector(".copy-btn");n.addEventListener("click",()=>{navigator.clipboard.writeText(t.innerText),n.style.backgroundColor="hsl(257, 27%, 26%)",n.innerText="Copied!",setTimeout(()=>{n.style.backgroundColor="hsl(180, 66%, 49%)",n.innerText="Copy"},1e3)})},formValidation=()=>{""===urlInput.value?urlInput.classList.add("is-invalid"):urlInput.classList.remove("is-invalid")};