const token=config.APIKEY,form=document.getElementById("form"),input=document.getElementById("input"),card=document.querySelector(".card"),getPositions=n=>{var t=L.DomUtil.get("map");null!=t&&(t._leaflet_id=null);const o=L.map("map").setView([n.location.lat,n.location.lng],13),a="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",e='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, by Rajat Sardesai',i=L.tileLayer(a,{attribution:e});i.addTo(o);const l=L.icon({iconUrl:"content/images/icon-location.svg"}),s=L.marker([n.location.lat,n.location.lng],{icon:l});s.addTo(o)};form.addEventListener("submit",n=>{n.preventDefault();const t=input.value;t&&(getIpInfo(t),input.value="")});const getIpInfo=async n=>{try{const t=await fetch(token+"&domain="+n),o=await t.json();createIpCard(o)}catch(n){n&&alert("No IP Address or Domain Found")}};getIpInfo("");const createIpCard=n=>{const t=`<div class="ip-info">\n        <small>IP Address</small>\n        <p>${n.ip}</p></div>\n    <div class="ip-info">\n        <small>Location</small>\n        <p>${n.location.region}, ${n.location.country} ${n.location.postalCode}</p>\n    </div>\n    <div class="ip-info">\n        <small>Timezone</small>\n        <p>UTC${n.location.timezone}</p>\n    </div>\n    <div class="ip-info">\n        <small>ISP</small>\n        <p>${n.isp}</p>\n    </div>`;card.innerHTML=t,getPositions(n)};